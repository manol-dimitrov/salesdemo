CREATE TABLE PRODUCT (ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1), PRODUCT_NAME varchar(255) NOT NULL, PRICE DECIMAL(10,2) NOT NULL, SALES_TAX_EXEMPT SMALLINT NOT NULL DEFAULT 0, IMPORT_DUTIES SMALLINT NOT NULL DEFAULT 0,CONSTRAINT product_pk PRIMARY KEY (ID) );
CREATE TABLE ITEM (ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1), PRODUCT_ID INTEGER NOT NULL, QUANTITY INTEGER NOT NULL,TOTAL DECIMAL(10,2) NOT NULL, TAXES DECIMAL(10,2) NOT NULL,CONSTRAINT product_type_fk FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT(ID), CONSTRAINT item_pk PRIMARY KEY (ID) );
CREATE TABLE ORDERS (ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1), SALES_TAX DECIMAL(10,2) NOT NULL,SALES_TOTAL DECIMAL(10,2) NOT NULL, CONSTRAINT order_pk PRIMARY KEY (ID) );
CREATE TABLE ORDER_ITEMS (ORDER_ID INTEGER NOT NULL, ITEM_ID INTEGER NOT NULL, SEQUENCE_ID INTEGER NOT NULL, CONSTRAINT orders_fk FOREIGN KEY (ITEM_ID) REFERENCES ITEM(ID) ,CONSTRAINT items_fk FOREIGN KEY (ITEM_ID) REFERENCES ITEM(ID),CONSTRAINT order_items_pk PRIMARY KEY (ORDER_ID,ITEM_ID) );
COMMIT;